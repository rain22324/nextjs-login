# ğŸ”§ GitHub OAuth å›è°ƒ URL é…ç½®æ£€æŸ¥

## âŒ ä½ æ”¶åˆ°çš„é”™è¯¯ï¼š`no_code`

è¿™æ„å‘³ç€ GitHub æ²¡æœ‰è¿”å›æˆæƒç ã€‚**è¿™æ˜¯å›è°ƒ URL é…ç½®é—®é¢˜**ã€‚

---

## âœ… éœ€è¦é…ç½®çš„ä¸¤ä¸ªåœ°æ–¹

### 1ï¸âƒ£ Supabase Dashboard ä¸­çš„ GitHub Provider

**æ­¥éª¤**ï¼š
1. ç™»å½• [Supabase Dashboard](https://app.supabase.com)
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. å·¦ä¾§èœå• â†’ **Authentication** (è®¤è¯)
4. ç‚¹å‡» **Providers** (æä¾›å•†)
5. æ‰¾åˆ° **GitHub**ï¼Œç‚¹å‡»ç¼–è¾‘
6. åœ¨ **Redirect URL** å­—æ®µä¸­ï¼Œè¾“å…¥æˆ–éªŒè¯ï¼š

```
http://192.168.1.102:3000/auth/callback
```

**æ³¨æ„**ï¼š
- âœ… å¿…é¡»æ˜¯ HTTPï¼ˆå› ä¸ºæ˜¯æœ¬åœ°å¼€å‘ï¼‰
- âœ… å¿…é¡»åŒ…å« IP åœ°å€æˆ–åŸŸå
- âœ… å¿…é¡»åŒ…å«ç«¯å£å· `:3000`
- âœ… å¿…é¡»ä»¥ `/auth/callback` ç»“å°¾
- âŒ ä¸è¦å¿˜è®° `http://` å‰ç¼€

### 2ï¸âƒ£ GitHub OAuth åº”ç”¨è®¾ç½®

**æ­¥éª¤**ï¼š
1. æ‰“å¼€ [GitHub Settings â†’ Developer settings â†’ OAuth apps](https://github.com/settings/developers)
2. é€‰æ‹©ä½ çš„ OAuth åº”ç”¨ï¼ˆæˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼‰
3. ç¼–è¾‘åº”ç”¨è®¾ç½®
4. åœ¨ **Authorization callback URL** ä¸­ï¼Œè¾“å…¥æˆ–éªŒè¯ï¼š

```
http://192.168.1.102:3000/auth/callback
```

**é‡è¦**ï¼š
- âœ… å¿…é¡»å®Œå…¨ç›¸åŒ
- âœ… åŒ…æ‹¬ `http://` å’Œç«¯å£
- âœ… ä¸èƒ½åªæ˜¯åŸŸå
- âœ… ä¿å­˜æ›´æ”¹

---

## ğŸ” éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®

### å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] Supabase GitHub Provider å·²å¯ç”¨
- [ ] Supabase å›è°ƒ URL = `http://192.168.1.102:3000/auth/callback`
- [ ] GitHub OAuth åº”ç”¨å·²åˆ›å»º
- [ ] GitHub å›è°ƒ URL = `http://192.168.1.102:3000/auth/callback`
- [ ] ä¸¤ä¸ª URL å®Œå…¨ç›¸åŒ
- [ ] å·²ä¿å­˜æ‰€æœ‰æ›´æ”¹

### ç»ˆç«¯æ£€æŸ¥

åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æ‰“å¼€ Network æ ‡ç­¾ï¼š

1. ç‚¹å‡»"ä½¿ç”¨ GitHub ç™»å½•"
2. åœ¨ GitHub æˆæƒåï¼Œæ£€æŸ¥æœ€åçš„é‡å®šå‘ URL
3. åº”è¯¥åŒ…å« `code=...` å‚æ•°
4. ä¾‹å¦‚ï¼š`http://192.168.1.102:3000/auth/callback?code=xxxxx`

---

## ğŸš¨ å¸¸è§é…ç½®é”™è¯¯

### âŒ é”™è¯¯ 1: URL ä¸åŒ¹é…

```
Supabase: http://192.168.1.102:3000/auth/callback
GitHub:   http://192.168.1.102:3000/auth/callback
âŒ ç«¯å£å·ä¸åŒæˆ–æ ¼å¼ä¸åŒ
```

### âŒ é”™è¯¯ 2: ç¼ºå°‘ http://

```
http://192.168.1.102:3000/auth/callback  âœ… æ­£ç¡®
192.168.1.102:3000/auth/callback         âŒ é”™è¯¯
```

### âŒ é”™è¯¯ 3: ä½¿ç”¨ localhost ä½†é…ç½®çš„æ˜¯ IP

```
localhost:3000/auth/callback           âŒ é”™è¯¯
http://192.168.1.102:3000/auth/callback  âœ… æ­£ç¡®
```

### âŒ é”™è¯¯ 4: å¿˜è®°ç«¯å£å·

```
http://192.168.1.102/auth/callback       âŒ é”™è¯¯ï¼ˆç¼ºå°‘ :3000ï¼‰
http://192.168.1.102:3000/auth/callback  âœ… æ­£ç¡®
```

---

## ğŸ¯ ä¿®å¤æ­¥éª¤ï¼ˆæŒ‰é¡ºåºï¼‰

### Step 1: è·å–ä½ çš„å®é™… URL

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š
```
http://192.168.1.102:3000
```

ç¡®è®¤èƒ½çœ‹åˆ°ç™»å½•é¡µé¢ï¼Œè¿™å°±æ˜¯ä½ çš„æ­£ç¡® URLã€‚

å›è°ƒ URL åº”è¯¥æ˜¯ï¼š
```
http://192.168.1.102:3000/auth/callback
```

### Step 2: åœ¨ Supabase ä¸­æ›´æ–°

1. æ‰“å¼€ [Supabase Dashboard](https://app.supabase.com)
2. é¡¹ç›® â†’ Authentication â†’ Providers â†’ GitHub
3. å¤åˆ¶ç²˜è´´å›è°ƒ URLï¼š`http://192.168.1.102:3000/auth/callback`
4. **ä¿å­˜**

### Step 3: åœ¨ GitHub OAuth åº”ç”¨ä¸­æ›´æ–°

1. æ‰“å¼€ [GitHub OAuth Apps](https://github.com/settings/developers)
2. ç¼–è¾‘ä½ çš„åº”ç”¨
3. åœ¨ **Authorization callback URL** ç²˜è´´ï¼š`http://192.168.1.102:3000/auth/callback`
4. **ä¿å­˜**

### Step 4: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶é‡è¯•

```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
localStorage.clear();
sessionStorage.clear();
```

ç„¶åé‡æ–°åŠ è½½é¡µé¢å¹¶é‡è¯•ç™»å½•ã€‚

---

## ğŸ”— å‚è€ƒé“¾æ¥

- [Supabase GitHub Provider æ–‡æ¡£](https://supabase.com/docs/guides/auth/social-login/auth-github)
- [GitHub OAuth App è®¾ç½®](https://github.com/settings/developers)
- [Supabase Dashboard](https://app.supabase.com)

---

## âœ¨ æˆåŠŸæ ‡å¿—

å®Œæˆé…ç½®åï¼Œå½“ä½ ç‚¹å‡»"ä½¿ç”¨ GitHub ç™»å½•"ï¼š

1. âœ… é‡å®šå‘åˆ° GitHub æˆæƒé¡µé¢
2. âœ… æˆæƒåå›åˆ°ä½ çš„åº”ç”¨
3. âœ… çœ‹åˆ°ä»ªè¡¨æ¿é¡µé¢
4. âœ… æ˜¾ç¤ºä½ çš„é‚®ç®±åœ°å€

**å¦‚æœä»ç„¶çœ‹åˆ° `no_code` é”™è¯¯**ï¼Œè¯´æ˜å›è°ƒ URL é…ç½®ä¸æ­£ç¡®ã€‚

---

## ğŸ’¡ è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æµè§ˆå™¨ç½‘ç»œè¯·æ±‚

1. æŒ‰ **F12** æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡» **Network** æ ‡ç­¾
3. ç‚¹å‡»"ä½¿ç”¨ GitHub ç™»å½•"
4. è§‚å¯Ÿé‡å®šå‘é“¾ï¼š
   - ç¬¬ä¸€æ­¥ï¼šä½ çš„åº”ç”¨ â†’ GitHub
   - ç¬¬äºŒæ­¥ï¼šGitHub â†’ ä½ çš„åº”ç”¨ï¼ˆåº”è¯¥å¸¦ `code=` å‚æ•°ï¼‰

### æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

å¼€å‘æœåŠ¡å™¨ä¼šæ‰“å°æ—¥å¿—ï¼š
```
[auth/callback] Full URL: http://192.168.1.102:3000/auth/callback?code=...
[auth/callback] Search params: { code: 'xxx', ... }
```

å¦‚æœçœ‹ä¸åˆ° `code`ï¼Œè¯´æ˜ GitHub æ²¡æœ‰å‘é€å®ƒã€‚

---

## ğŸŠ é…ç½®å®Œæˆå

1. é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¦‚éœ€è¦ï¼‰
2. è®¿é—®åº”ç”¨é¦–é¡µ
3. ç‚¹å‡» GitHub ç™»å½•
4. åº”è¯¥çœ‹åˆ°æˆåŠŸè¿›å…¥ä»ªè¡¨æ¿

**ç¥ä½ ä¿®å¤æˆåŠŸï¼** ğŸš€
